(()=>{var U=Object.create;var O=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var V=Object.getOwnPropertyNames;var X=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty;var J=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var Q=(t,n,m,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let g of V(n))!q.call(t,g)&&g!==m&&O(t,g,{get:()=>n[g],enumerable:!(f=Y(n,g))||f.enumerable});return t};var Z=(t,n,m)=>(m=t!=null?U(X(t)):{},Q(n||!t||!t.__esModule?O(m,"default",{value:t,enumerable:!0}):m,t));var L=J(E=>{var ae=function(){"use strict";let t="1.1.0";function n(e){alert(`Mod ERROR:
`+e);let a=new Error(e);throw console.error(a),a}let m=new TextEncoder;function f(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function g(e){let a=new Set;return e.filter(r=>!a.has(r)&&a.add(r))}let k=new Map,S=new Set;function P(e){S.has(e)||(S.add(e),console.warn(e))}function T(e){let a=[],r=new Map,i=new Set;for(let d of w.values()){let l=d.patching.get(e.name);if(l){a.push(...l.hooks);for(let[s,o]of l.patches.entries())r.has(s)&&r.get(s)!==o&&P(`ModSDK: Mod '${d.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:
Pattern:
${s}
Patch1:
${r.get(s)||""}
Patch2:
${o}`),r.set(s,o),i.add(d.name)}}a.sort((d,l)=>l.priority-d.priority);let p=function(d,l){if(l.size===0)return d;let s=d.toString().replaceAll(`\r
`,`
`);for(let[o,c]of l.entries())s.includes(o)||P(`ModSDK: Patching ${d.name}: Patch ${o} not applied`),s=s.replaceAll(o,c);return(0,eval)(`(${s})`)}(e.original,r),y=function(d){var l,s;let o=(s=(l=x.errorReporterHooks).hookChainExit)===null||s===void 0?void 0:s.call(l,e.name,i),c=p.apply(this,d);return o?.(),c};for(let d=a.length-1;d>=0;d--){let l=a[d],s=y;y=function(o){var c,u;let h=(u=(c=x.errorReporterHooks).hookEnter)===null||u===void 0?void 0:u.call(c,e.name,l.mod),v=l.hook.apply(this,[o,M=>{if(arguments.length!==1||!Array.isArray(o))throw new Error(`Mod ${l.mod} failed to call next hook: Expected args to be array, got ${typeof M}`);return s.call(this,M)}]);return h?.(),v}}return{hooks:a,patches:r,patchesSources:i,enter:y,final:p}}function A(e,a=!1){let r=k.get(e);if(r)a&&(r.precomputed=T(r));else{let i=window,p=e.split(".");for(let s=0;s<p.length-1;s++)if(i=i[p[s]],!f(i))throw new Error(`ModSDK: Function ${e} to be patched not found; ${p.slice(0,s+1).join(".")} is not object`);let y=i[p[p.length-1]];if(typeof y!="function")throw new Error(`ModSDK: Function ${e} to be patched not found`);let d=function(s){let o=-1;for(let c of m.encode(s)){let u=255&(o^c);for(let h=0;h<8;h++)u=1&u?-306674912^u>>>1:u>>>1;o=o>>>8^u}return((-1^o)>>>0).toString(16).padStart(8,"0").toUpperCase()}(y.toString().replaceAll(`\r
`,`
`)),l={name:e,original:y,originalHash:d};r=Object.assign(Object.assign({},l),{precomputed:T(l),router:()=>{},context:i,contextProperty:p[p.length-1]}),r.router=function(s){return function(...o){return s.precomputed.enter.apply(this,[o])}}(r),k.set(e,r),i[r.contextProperty]=r.router}return r}function I(){let e=new Set;for(let a of w.values())for(let r of a.patching.keys())e.add(r);for(let a of k.keys())e.add(a);for(let a of e)A(a,!0)}function G(){let e=new Map;for(let[a,r]of k)e.set(a,{name:a,original:r.original,originalHash:r.originalHash,sdkEntrypoint:r.router,currentEntrypoint:r.context[r.contextProperty],hookedByMods:g(r.precomputed.hooks.map(i=>i.mod)),patchedByMods:Array.from(r.precomputed.patchesSources)});return e}let w=new Map;function j(e){w.get(e.name)!==e&&n(`Failed to unload mod '${e.name}': Not registered`),w.delete(e.name),e.loaded=!1,I()}function W(e,a,r){typeof e=="string"&&typeof a=="string"&&(alert(`Mod SDK warning: Mod '${e}' is registering in a deprecated way.
It will work for now, but please inform author to update.`),e={name:e,fullName:e,version:a},a={allowReplace:r===!0}),e&&typeof e=="object"||n("Failed to register mod: Expected info object, got "+typeof e),typeof e.name=="string"&&e.name||n("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let i=`'${e.name}'`;typeof e.fullName=="string"&&e.fullName||n(`Failed to register mod ${i}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),i=`'${e.fullName} (${e.name})'`,typeof e.version!="string"&&n(`Failed to register mod ${i}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),e.repository!==void 0&&typeof e.repository!="string"&&n(`Failed to register mod ${i}: Expected repository to be undefined or string, got ${typeof e.version}`),a==null&&(a={}),a&&typeof a=="object"||n(`Failed to register mod ${i}: Expected options to be undefined or object, got ${typeof a}`);let p=a.allowReplace===!0,y=w.get(e.name);y&&(y.allowReplace&&p||n(`Refusing to load mod ${i}: it is already loaded and doesn't allow being replaced.
Was the mod loaded multiple times?`),j(y));let d=o=>{typeof o=="string"&&o||n(`Mod ${i} failed to patch a function: Expected function name string, got ${typeof o}`);let c=s.patching.get(o);return c||(c={hooks:[],patches:new Map},s.patching.set(o,c)),c},l={unload:()=>j(s),hookFunction:(o,c,u)=>{s.loaded||n(`Mod ${i} attempted to call SDK function after being unloaded`);let h=d(o);typeof c!="number"&&n(`Mod ${i} failed to hook function '${o}': Expected priority number, got ${typeof c}`),typeof u!="function"&&n(`Mod ${i} failed to hook function '${o}': Expected hook function, got ${typeof u}`);let v={mod:s.name,priority:c,hook:u};return h.hooks.push(v),I(),()=>{let M=h.hooks.indexOf(v);M>=0&&(h.hooks.splice(M,1),I())}},patchFunction:(o,c)=>{s.loaded||n(`Mod ${i} attempted to call SDK function after being unloaded`);let u=d(o);f(c)||n(`Mod ${i} failed to patch function '${o}': Expected patches object, got ${typeof c}`);for(let[h,v]of Object.entries(c))typeof v=="string"?u.patches.set(h,v):v===null?u.patches.delete(h):n(`Mod ${i} failed to patch function '${o}': Invalid format of patch '${h}'`);I()},removePatches:o=>{s.loaded||n(`Mod ${i} attempted to call SDK function after being unloaded`),d(o).patches.clear(),I()},callOriginal:(o,c,u)=>(s.loaded||n(`Mod ${i} attempted to call SDK function after being unloaded`),typeof o=="string"&&o||n(`Mod ${i} failed to call a function: Expected function name string, got ${typeof o}`),Array.isArray(c)||n(`Mod ${i} failed to call a function: Expected args array, got ${typeof c}`),function(h,v,M=window){return A(h).original.apply(M,v)}(o,c,u)),getOriginalHash:o=>(typeof o=="string"&&o||n(`Mod ${i} failed to get hash: Expected function name string, got ${typeof o}`),A(o).originalHash)},s={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:p,api:l,loaded:!0,patching:new Map};return w.set(e.name,s),Object.freeze(l)}function z(){let e=[];for(let a of w.values())e.push({name:a.name,fullName:a.fullName,version:a.version,repository:a.repository});return e}let x,D=function(){if(window.bcModSdk===void 0)return window.bcModSdk=function(){let e={version:t,apiVersion:1,registerMod:W,getModsInfo:z,getPatchingInfo:G,errorReporterHooks:Object.seal({hookEnter:null,hookChainExit:null})};return x=e,Object.freeze(e)}();if(f(window.bcModSdk)||n("Failed to init Mod SDK: Name already in use"),window.bcModSdk.apiVersion!==1&&n(`Failed to init Mod SDK: Different version already loaded ('1.1.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==t&&(alert(`Mod SDK warning: Loading different but compatible versions ('1.1.0' vs '${window.bcModSdk.version}')
One of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk.version.startsWith("1.0.")&&window.bcModSdk._shim10register===void 0)){let e=window.bcModSdk,a=Object.freeze(Object.assign(Object.assign({},e),{registerMod:(r,i,p)=>r&&typeof r=="object"&&typeof r.name=="string"&&typeof r.version=="string"?e.registerMod(r.name,r.version,typeof i=="object"&&!!i&&i.allowReplace===!0):e.registerMod(r,i,p),_shim10register:!0}));window.bcModSdk=a}return window.bcModSdk}();return typeof E<"u"&&(Object.defineProperty(E,"__esModule",{value:!0}),E.default=D),D}()});var _=Z(L());function N(t,n=3e3){ServerBeep={Timer:CommonTime()+n,Message:t}}function b(t,n,m){let f=document.createElement("div");f.setAttribute("class","ChatMessage ChatMessageLocalMessage"),f.setAttribute("data-time",ChatRoomCurrentTime()),f.setAttribute("data-sender",`${m??Player.MemberNumber??0}`),f.style.background="#6e6eff54",f.style.margin="0.15em 0",typeof t=="string"?f.innerText="[AES] "+t:f.appendChild("[AES] "+t);let g=document.activeElement?.id==="InputChat",k=ElementIsScrolledToEnd("TextAreaChatLog"),S=document.getElementById("TextAreaChatLog");return S!=null?(S.appendChild(f),k&&ElementScrollToEnd("TextAreaChatLog"),g&&ElementFocus("InputChat"),f):null}function $(t){return Math.floor(Math.random()*t)}function C(t,n,m,f,g,k=!1){InventoryGet(t,m)==null&&InventoryWear(Player,n,m,f,g,!1)}function B(t){switch($(20)){case 0:InventoryRemove(t,"Cloth");break;case 1:InventoryRemove(t,"ClothAccessory");break;case 2:InventoryRemove(t,"Suit");break;case 3:InventoryRemove(t,"ClothLower");break;case 4:InventoryRemove(t,"SuitLower");break;case 5:InventoryRemove(t,"Bra");break;case 6:InventoryRemove(t,"Corset");break;case 7:InventoryRemove(t,"Panties");break;case 8:InventoryRemove(t,"SocksLeft");break;case 9:InventoryRemove(t,"SocksRight");break;case 10:InventoryRemove(t,"Socks");break;case 11:InventoryRemove(t,"Garters");break;case 12:InventoryRemove(t,"Shoes");break;case 13:InventoryRemove(t,"Hat");break;case 14:InventoryRemove(t,"Gloves");break;case 15:InventoryRemove(t,"LeftHand");break;case 16:InventoryRemove(t,"RightHand");break;case 17:InventoryRemove(t,"Bracelet");break;case 18:InventoryRemove(t,"Mask");break;default:break}}var K,R=0,F="#56AB56";function H(){console.log("AES: A plant invasion has started"),b("A plant invasion has started"),K=setInterval(function(){te()},1*1e3)}function ee(){clearInterval(K)}function te(){$(51)>0&&(oe(),R++,console.log("[AES] level up!"))}function oe(){switch(R){case 0:break;case 1:C(Player,"HempRope","ItemLegs",F,1),b("The plant wraps around your legs, twisting and tightening its grip.");break;case 2:C(Player,"HempRope","ItemArms",F,1),b("The vines slithered up your arms, coiling and constricting as they entangled you.");break;case 3:b("The plant's sinuous tendrils coiled around your thighs, slowly constricting and pulling you deeper into their verdant embrace.");break;default:break}if(R>10){switch($(5)){case 0:b("With a relentless determination, the voracious plants worked their way through your clothing, tearing and ripping as they sought a path to ensnare your vulnerable flesh.");break;case 1:b("The plant's tendrils, like miniature saws, sliced through your attire, leaving tattered shreds in their wake as they made their way towards your skin.");break;case 2:b("As the plant invasion intensified, your clothes became a casualty, shredded by the relentless force of nature's encroachment.");break;case 3:b("The invasive plants, fueled by an insatiable hunger, tore at your garments, exposing your skin to their invasive advance.");break;case 4:b("Inexorably, the plant's tendrils shredded your clothing, revealing the helplessness of your situation as they reached for you with unyielding determination.");break;default:break}CharacterIsNaked(Player)||B(Player)}R>250&&ee()}var ve=_.default.registerMod({name:"AES",fullName:"Ainaras Event Mod",version:"0.01",repository:"https://github.com/Ainaradev7/AES"});function ne(){console.log("AES: Initiated"),N("AES: Initiated"),H()}ne();})();
